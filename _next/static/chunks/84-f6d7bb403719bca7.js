"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{1728:function(e,t,n){n.d(t,{t2:function(){return B}}),(l=u||(u={}))[l.QR_CODE=0]="QR_CODE",l[l.AZTEC=1]="AZTEC",l[l.CODABAR=2]="CODABAR",l[l.CODE_39=3]="CODE_39",l[l.CODE_93=4]="CODE_93",l[l.CODE_128=5]="CODE_128",l[l.DATA_MATRIX=6]="DATA_MATRIX",l[l.MAXICODE=7]="MAXICODE",l[l.ITF=8]="ITF",l[l.EAN_13=9]="EAN_13",l[l.EAN_8=10]="EAN_8",l[l.PDF_417=11]="PDF_417",l[l.RSS_14=12]="RSS_14",l[l.RSS_EXPANDED=13]="RSS_EXPANDED",l[l.UPC_A=14]="UPC_A",l[l.UPC_E=15]="UPC_E",l[l.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var r,o,i,a,s,c,l,u,d,h,p,f,g,S=new Map([[u.QR_CODE,"QR_CODE"],[u.AZTEC,"AZTEC"],[u.CODABAR,"CODABAR"],[u.CODE_39,"CODE_39"],[u.CODE_93,"CODE_93"],[u.CODE_128,"CODE_128"],[u.DATA_MATRIX,"DATA_MATRIX"],[u.MAXICODE,"MAXICODE"],[u.ITF,"ITF"],[u.EAN_13,"EAN_13"],[u.EAN_8,"EAN_8"],[u.PDF_417,"PDF_417"],[u.RSS_14,"RSS_14"],[u.RSS_EXPANDED,"RSS_EXPANDED"],[u.UPC_A,"UPC_A"],[u.UPC_E,"UPC_E"],[u.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);(r=d||(d={}))[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL",(o=h||(h={}))[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE";var m=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[h.SCAN_TYPE_CAMERA,h.SCAN_TYPE_FILE],e}(),y=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!S.has(t))throw t+" not in html5QrcodeSupportedFormatsTextMap";return new e(t,S.get(t))},e}(),T=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();(i=p||(p={}))[i.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",i[i.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",i[i.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR";var M=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:p.UNKWOWN_ERROR}},e}(),E=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function C(e){return null==e}var A=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = "+e},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = "+e},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e}(),I=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: "+e},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e}(),v=function(){function e(){}return e.builtUsing=function(){return"Built using "},e.reportIssues=function(){return"Report issues"},e}(),D=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e){var n=typeof e;return t.logError("videoConstraints should be of type object, the object passed is of type "+n+".",!0),!1}for(var r=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),o=Object.keys(e),i=0;i<o.length;i++){var a=o[i];if(r.has(a))return t.logError(a+" is not supported videoConstaints.",!0),!1}return!0},e}(),N=n(8375),w=function(){function e(e,t,n){if(this.formatMap=new Map([[u.QR_CODE,N.BarcodeFormat.QR_CODE],[u.AZTEC,N.BarcodeFormat.AZTEC],[u.CODABAR,N.BarcodeFormat.CODABAR],[u.CODE_39,N.BarcodeFormat.CODE_39],[u.CODE_93,N.BarcodeFormat.CODE_93],[u.CODE_128,N.BarcodeFormat.CODE_128],[u.DATA_MATRIX,N.BarcodeFormat.DATA_MATRIX],[u.MAXICODE,N.BarcodeFormat.MAXICODE],[u.ITF,N.BarcodeFormat.ITF],[u.EAN_13,N.BarcodeFormat.EAN_13],[u.EAN_8,N.BarcodeFormat.EAN_8],[u.PDF_417,N.BarcodeFormat.PDF_417],[u.RSS_14,N.BarcodeFormat.RSS_14],[u.RSS_EXPANDED,N.BarcodeFormat.RSS_EXPANDED],[u.UPC_A,N.BarcodeFormat.UPC_A],[u.UPC_E,N.BarcodeFormat.UPC_E],[u.UPC_EAN_EXTENSION,N.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!N)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),o=new Map;o.set(N.DecodeHintType.POSSIBLE_FORMATS,r),this.hints=o}return e.prototype.decodeAsync=function(e){var t=this;return new Promise(function(n,r){try{n(t.decode(e))}catch(e){r(e)}})},e.prototype.decode=function(e){var t=new N.MultiFormatReader(this.verbose,this.hints),n=new N.HTMLCanvasElementLuminanceSource(e),r=new N.BinaryBitmap(new N.HybridBinarizer(n)),o=t.decode(r);return{text:o.text,format:y.create(this.toHtml5QrcodeSupportedFormats(o.format))}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have "+e;return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];this.formatMap.has(r)?t.push(this.formatMap.get(r)):this.logger.logError(r+" is not supported byZXingHtml5QrcodeShim")}return t},e}(),L=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},b=function(){function e(t,n,r){if(this.formatMap=new Map([[u.QR_CODE,"qr_code"],[u.AZTEC,"aztec"],[u.CODABAR,"codabar"],[u.CODE_39,"code_39"],[u.CODE_93,"code_93"],[u.CODE_128,"code_128"],[u.DATA_MATRIX,"data_matrix"],[u.ITF,"itf"],[u.EAN_13,"ean_13"],[u.EAN_8,"ean_8"],[u.PDF_417,"pdf417"],[u.UPC_A,"upc_a"],[u.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&(new BarcodeDetector({formats:["qr_code"]}),!0)},e.prototype.decodeAsync=function(e){var t,n,r,o;return t=this,n=void 0,r=void 0,o=function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=r.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(t)).rawValue,format:y.create(this.toHtml5QrcodeSupportedFormats(n.format))}]}})},new(r||(r=Promise))(function(e,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}c((o=o.apply(t,n||[])).next())})},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0;r<e.length;r++){var o=e[r],i=o.boundingBox.width*o.boundingBox.height;i>n&&(n=i,t=o)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];this.formatMap.has(r)?t.push(this.formatMap.get(r)):this.logger.warn(r+" is not supported byBarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have "+e;return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e}(),_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=n,t&&b.isSupported()?this.decoder=new b(e,n,r):this.decoder=new w(e,n,r)}return e.prototype.decodeAsync=function(e){var t,n,r,o;return t=this,n=void 0,r=void 0,o=function(){var t,n;return _(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.verbose&&(n=performance.now()-t,this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()),[7];case 4:return[2]}})},new(r||(r=Promise))(function(e,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}c((o=o.apply(t,n||[])).next())})},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++)e+=n[t];console.log(e/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},e}();(a=f||(f={}))[a.UNKNOWN=0]="UNKNOWN",a[a.NOT_STARTED=1]="NOT_STARTED",a[a.SCANNING=2]="SCANNING",a[a.PAUSED=3]="PAUSED";var O=function(){function e(){this.state=f.NOT_STARTED,this.onGoingTransactionNewState=f.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===f.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=f.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===f.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=f.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==f.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case f.UNKNOWN:throw"Transition from unknown is not allowed";case f.NOT_STARTED:this.failIfNewStateIs(e,[f.PAUSED]);case f.SCANNING:case f.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])throw"Cannot transition from "+this.state+" to "+e},e}(),R=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===f.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==f.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===f.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===f.PAUSED},e}(),j=function(){function e(){}return e.create=function(){return new R(new O)},e}(),U=(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(m),P=function(){function e(e,t){this.logger=t,this.fps=z.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=z.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?D.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!C(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),B=function(){function e(e,t){var n;if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id="+e+" not found";this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(n=t,this.verbose=!0===n.verbose,n.experimentalFeatures),this.logger=new E(this.verbose),this.qrcode=new x(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=j.create()}return e.prototype.start=function(e,t,n,r){if(!e)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";r||(r=this.verbose?this.logger.log:function(){});var o=P.create(t,this.logger);this.clearElement();var i=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?i=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var a=i;o.isShadedBoxEnabled();var s=document.getElementById(this.elementId),c=s.clientWidth?s.clientWidth:z.DEFAULT_WIDTH;s.style.position="relative",this.shouldScan=!0,this.element=s;var l=this,u=this.stateManagerProxy.startTransition(f.SCANNING);return new Promise(function(t,i){var s=a?o.videoConstraints:l.createVideoConstraints(e);if(!s){u.cancel(),i("videoConstraints should be defined");return}navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!1,video:s}).then(function(e){l.onMediaStreamReceived(e,o,a,c,n,r).then(function(e){u.execute(),l.isScanning=!0,t(null)}).catch(function(e){u.cancel(),i(e)})}).catch(function(e){u.cancel(),i(A.errorGettingUserMedia(e))}):(u.cancel(),i(A.cameraStreamingNotSupported()))})},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(f.PAUSED),this.showPausedState(),(C(e)||!0!==e)&&(e=!1),e&&this.videoElement&&this.videoElement.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(f.SCANNING),e.hidePausedState()};if(!this.videoElement.paused){t();return}var n=function(){var r;setTimeout(t,200),null===(r=e.videoElement)||void 0===r||r.removeEventListener("playing",n)};this.videoElement.addEventListener("playing",n),this.videoElement.play()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(f.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var t=document.getElementById(z.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}};return new Promise(function(r,o){var i=function(){e.localMediaStream=null,e.element&&(e.element.removeChild(e.videoElement),e.element.removeChild(e.canvasElement)),n(),e.qrRegion&&(e.qrRegion=null),e.context&&(e.context=null),t.execute(),e.hidePausedState(),e.isScanning=!1,r()};e.localMediaStream||i();var a=e.localMediaStream.getVideoTracks().length,s=0;e.localMediaStream.getVideoTracks().forEach(function(t){e.localMediaStream.removeTrack(t),t.stop(),++s>=a&&i()})})},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(e){return e.decodedText})},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(C(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,o){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var i=new Image;i.onload=function(){var e=i.width,a=i.height,s=document.getElementById(n.elementId),c=s.clientWidth?s.clientWidth:z.DEFAULT_WIDTH,l=Math.max(s.clientHeight?s.clientHeight:a,z.FILE_SCAN_MIN_HEIGHT),u=n.computeCanvasDrawConfig(e,a,c,l);if(t){var d=n.createCanvasElement(c,l,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=c,h.canvas.height=l,h.drawImage(i,0,0,e,a,u.x,u.y,u.width,u.height)}var p=n.createCanvasElement(u.width,u.height);s.appendChild(p);var f=p.getContext("2d");if(!f)throw"Unable to get 2d context from canvas";f.canvas.width=u.width,f.canvas.height=u.height,f.drawImage(i,0,0,e,a,0,0,u.width,u.height);try{n.qrcode.decodeAsync(p).then(function(e){r(T.createFromQrcodeResult(e))}).catch(o)}catch(e){o("QR code parse error, error = "+e)}},i.onerror=o,i.onabort=o,i.onstalled=o,i.onsuspend=o,i.src=URL.createObjectURL(e)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;if(MediaStreamTrack&&t.getSources)return e.getCamerasFromMediaStreamTrack();var n=A.unableToQuerySupportedDevices();return!function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e}()&&(n=A.insecureContextCameraQueryError()),Promise.reject(n)},e.prototype.getRunningTrackCapabilities=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getCapabilities()},e.prototype.getRunningTrackSettings=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getSettings()},e.prototype.applyVideoConstraints=function(e){var t=this;if(e){if(!D.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(null===this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(n,r){if("aspectRatio"in e){r("Chaning 'aspectRatio' in run-time is not yet supported.");return}t.localMediaStream.getVideoTracks()[0].applyConstraints(e).then(function(e){n(e)}).catch(function(e){r(e)})})},e.getCamerasFromMediaDevices=function(){return new Promise(function(e,t){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(n){var r=function(e){for(var t=e.getVideoTracks(),n=0;n<t.length;n++){var r=t[n];r.enabled=!1,r.stop(),e.removeTrack(r)}};navigator.mediaDevices.enumerateDevices().then(function(t){for(var o=[],i=0;i<t.length;i++){var a=t[i];"videoinput"===a.kind&&o.push({id:a.deviceId,label:a.label})}r(n),e(o)}).catch(function(e){t(e.name+" : "+e.message)})}).catch(function(e){t(e.name+" : "+e.message)})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"video"===o.kind&&n.push({id:o.id,label:o.label})}e(n)})})},e.prototype.getSupportedFormats=function(e){var t=[u.QR_CODE,u.AZTEC,u.CODABAR,u.CODE_39,u.CODE_93,u.CODE_128,u.DATA_MATRIX,u.MAXICODE,u.ITF,u.EAN_13,u.EAN_8,u.PDF_417,u.RSS_14,u.RSS_EXPANDED,u.UPC_A,u.UPC_E,u.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],r=0,o=e.formatsToSupport;r<o.length;r++){var i=o[r];Object.values(u).includes(i)?n.push(i):this.logger.warn("Invalid format: "+i+" passed in config, ignoring.")}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(C(e))return!1;if(!C(e.useBarCodeDetectorIfSupported))return!0===e.useBarCodeDetectorIfSupported;if(C(e.experimentalFeatures))return!1;var t=e.experimentalFeatures;return!C(t.useBarCodeDetectorIfSupported)&&!0===t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,n){var r,o=n.qrbox;this.validateQrboxConfig(o);var i=this.toQrdimensions(e,t,o),a=function(e){if(e<z.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+z.MIN_QR_BOX_SIZE+"px."};a(i.width),a(i.height),i.width=((r=i.width)>e&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),r=e),r)},e.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&"function"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,n){if("number"==typeof n)return{width:n,height:n};if("function"==typeof n)try{return n(e,t)}catch(e){throw Error("qrbox config was passed as a function but it failed with unknown error"+e)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=C(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var o=this.toQrdimensions(e,t,r);o.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var i=n.isShadedBoxEnabled()&&o.height<=t,a=i?this.getShadedRegionBounds(e,t,o):{x:0,y:0,width:e,height:t},s=this.createCanvasElement(a.width,a.height),c=s.getContext("2d");c.canvas.width=a.width,c.canvas.height=a.height,this.element.append(s),i&&this.possiblyInsertShadingElement(this.element,e,t,o),this.createScannerPausedUiElement(this.element),this.qrRegion=a,this.context=c,this.canvasElement=s},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText="Scanner paused",t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="yellow",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(t){return e(t.text,T.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0}).catch(function(e){n.possiblyUpdateShaders(!1);var r=A.codeParseError(e);return t(r,M.createFrom(r)),!1})},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.localMediaStream){var o=this.videoElement,i=o.videoWidth/o.clientWidth,a=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*i,c=this.qrRegion.height*a,l=this.qrRegion.x*i,u=this.qrRegion.y*a;this.context.drawImage(o,l,u,s,c,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,t,n)},r.getTimeoutFps(e.fps))};this.scanContext(t,n).then(function(o){o||!0===e.disableFlip?d():(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally(function(){d()}))}).catch(function(e){r.logger.logError("Error happend while scanning context",e),d()})}},e.prototype.onMediaStreamReceived=function(e,t,n,r,o,i){var a=this,s=this;return new Promise(function(c,l){var u=function(){var n=a.createVideoElement(r);s.element.append(n),n.onabort=l,n.onerror=l;var u=function(){var e=n.clientWidth,r=n.clientHeight;s.setupUi(e,r,t),s.foreverScan(t,o,i),n.removeEventListener("playing",u),c(null)};n.addEventListener("playing",u),n.srcObject=e,n.play(),s.videoElement=n};if(s.localMediaStream=e,n||!t.aspectRatio)u();else{var d={aspectRatio:t.aspectRatio};e.getVideoTracks()[0].applyConstraints(d).then(function(e){return u()}).catch(function(e){s.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",e]),u()})}})},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",n="deviceId",r={user:!0,environment:!0},o="exact",i=function(e){if(e in r)return!0;throw"config has invalid 'facingMode' value = '"+e+"'"},a=Object.keys(e);if(1!==a.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+a.length+" keys";var s=Object.keys(e)[0];if(s!==t&&s!==n)throw"Only '"+t+"' and '"+n+"'  are supported for 'cameraIdOrConfig'";if(s===t){var c=e.facingMode;if("string"==typeof c){if(i(c))return{facingMode:c}}else if("object"==typeof c){if(o in c){if(i(c[""+o]))return{facingMode:{exact:c[""+o]}}}else throw"'facingMode' should be string or object with "+o+" as key."}else throw"Invalid type of 'facingMode' = "+typeof c}else{var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(o in l)return{deviceId:{exact:l[""+o]}};throw"'deviceId' should be string or object with "+o+" as key."}throw"Invalid type of 'deviceId' = "+typeof l}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof e},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var o=e,i=t;return e>n&&(t=n/e*t,e=n),t>r&&(e=r/t*e,t=r),this.logger.log("Image downsampled from "+o+"X"+i+(" to "+e)+"X"+t+"."),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width=e+"px",t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?z.BORDER_SHADER_MATCH_COLOR:z.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,n){var r=document.createElement("canvas");return r.style.width=e+"px",r.style.height=t+"px",r.style.display="none",r.id=C(n)?"qr-canvas":n,r},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1)&&!(n-r.height<1)){var o=document.createElement("div");o.style.position="absolute";var i=(t-r.width)/2,a=(n-r.height)/2;o.style.borderLeft=i+"px solid rgba(0, 0, 0, 0.48)",o.style.borderRight=i+"px solid rgba(0, 0, 0, 0.48)",o.style.borderTop=a+"px solid rgba(0, 0, 0, 0.48)",o.style.borderBottom=a+"px solid rgba(0, 0, 0, 0.48)",o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id=""+z.SHADED_REGION_ELEMENT_ID,t-r.width<11||n-r.height<11?this.hasBorderShaders=!1:(this.insertShaderBorders(o,40,5,-5,null,0,!0),this.insertShaderBorders(o,40,5,-5,null,0,!1),this.insertShaderBorders(o,40,5,null,-5,0,!0),this.insertShaderBorders(o,40,5,null,-5,0,!1),this.insertShaderBorders(o,5,45,-5,null,-5,!0),this.insertShaderBorders(o,5,45,null,-5,-5,!0),this.insertShaderBorders(o,5,45,-5,null,-5,!1),this.insertShaderBorders(o,5,45,null,-5,-5,!1),this.hasBorderShaders=!0),e.append(o)}},e.prototype.insertShaderBorders=function(e,t,n,r,o,i,a){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=z.BORDER_SHADER_DEFAULT_COLOR,s.style.width=t+"px",s.style.height=n+"px",null!==r&&(s.style.top=r+"px"),null!==o&&(s.style.bottom=o+"px"),a?s.style.left=i+"px":s.style.right=i+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),F="data:image/svg+xml;base64,",k=F+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Y=F+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Q=F+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",H=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),W=function(){function e(){this.data=H.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=H.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),q=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=v.builtUsing();var t=document.createElement("a");t.innerText="html5-qrcode",t.href="https://github.com/mebjas/html5-qrcode",t.target="new",this.infoDiv.appendChild(t);var n=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var o=document.createElement("a");o.innerText=v.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),V=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Q,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Q,this.infoIcon.style.opacity="0.6")},e}(),X=function(){function e(){var e=this;this.infoDiv=new q,this.infoIcon=new V(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),Z=function(){function e(){}return e.hasCameraPermissions=function(){return new Promise(function(e,t){navigator.mediaDevices.enumerateDevices().then(function(t){t.forEach(function(t){"videoinput"===t.kind&&t.label&&e(!0)}),e(!1)})})},e}(),G=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===h.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===h.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return m.DEFAULT_SUPPORTED_SCAN_TYPE;var t=m.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max "+t+" values expected for supportedScanTypes";for(var n=0;n<e.length;n++){var r=e[n];if(!m.DEFAULT_SUPPORTED_SCAN_TYPE.includes(r))throw"Unsupported scan type "+r}return e},e}(),K=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),J=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(K.ALL_ELEMENT_CLASS),n},e}(),$=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},ee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},et=function(){function e(e,t,n){this.isTorchOn=!1,this.html5Qrcode=e,this.buttonElement=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return $(this,void 0,void 0,function(){var e,t,n,r;return ee(this,function(o){switch(o.label){case 0:this.buttonElement.disabled=!0,t={torch:e=!this.isTorchOn,advanced:[{torch:e}]},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.html5Qrcode.applyVideoConstraints(t)];case 2:return o.sent(),n=this.html5Qrcode.getRunningTrackSettings(),this.updateUiBasedOnLatestSettings(n,e),[3,4];case 3:return r=o.sent(),this.propagateFailure(e,r),this.buttonElement.disabled=!1,[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e.torch===t?(this.buttonElement.innerText=t?I.torchOffButton():I.torchOnButton(),this.isTorchOn=t):this.propagateFailure(t),this.buttonElement.disabled=!1},e.prototype.propagateFailure=function(e,t){var n=e?I.torchOnFailedMessage():I.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),en=function(){function e(e,t){this.torchButton=e,this.torchController=t}return e.create=function(t,n,r){var o=this,i=J.createElement("button",K.TORCH_BUTTON_ID),a=new et(t,i,r);return i.innerText=I.torchOnButton(),i.style.display=n.display,i.style.marginLeft=n.marginLeft,i.addEventListener("click",function(e){return $(o,void 0,void 0,function(){return ee(this,function(e){switch(e.label){case 0:return[4,a.flipState()];case 1:return e.sent(),a.isTorchEnabled()?(i.classList.remove(K.TORCH_BUTTON_CLASS_TORCH_OFF),i.classList.add(K.TORCH_BUTTON_CLASS_TORCH_ON)):(i.classList.remove(K.TORCH_BUTTON_CLASS_TORCH_ON),i.classList.add(K.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),new e(i,a)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.reset=function(){this.torchButton.innerText=I.torchOnButton(),this.torchController.reset()},e}(),er=function(){function e(){}return e.isTorchSupported=function(e){return"torch"in e},e}(),eo=function(){function e(e,t,n){this.fileBasedScanRegion=document.createElement("div"),this.fileBasedScanRegion.style.textAlign="center",this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=J.createElement("button",K.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(e){r.click()}),r.append(this.fileSelectionButton),this.fileScanInput=J.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var r=t.files[0],i=r.name;o.setImageNameToButton(i),n(r)}}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length;e=t+"...."+e.substring(n-8,n)}var r=I.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=r},e.prototype.setInitialValueToButton=function(){var e=I.fileSelectionChooseImage()+" - "+I.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}();(c=g||(g={}))[c.STATUS_DEFAULT=0]="STATUS_DEFAULT",c[c.STATUS_SUCCESS=1]="STATUS_SUCCESS",c[c.STATUS_WARNING=2]="STATUS_WARNING",c[c.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id="+e+" not found";this.scanTypeSelector=new G(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new E(this.verbose),this.persistedDataManager=new W,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(e,t){var n,r,o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,n){if(e)e(t,n);else{if(o.lastMatchFound===t)return;o.lastMatchFound=t,o.setHeaderMessage(I.lastMatch(t),g.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id="+this.elementId+" not found";i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new B(this.getScanRegionId(),(n=this.config,r=this.verbose,{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:r}))},e.prototype.pause=function(e){if(!this.html5Qrcode)throw"Code scanner not initialized.";(C(e)||!0!==e)&&(e=!1),this.html5Qrcode.pause(e)},e.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},e.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise(function(n,r){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(r){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),t(),n()}).catch(function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),r(t)}):(e.html5Qrcode.clear(),t())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(e)},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=m.SCAN_DEFAULT_FPS),!m.DEFAULT_REMEMBER_LAST_CAMERA_USED!==e.rememberLastUsedCamera&&(e.rememberLastUsedCamera=m.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=m.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:m.SCAN_DEFAULT_FPS,rememberLastUsedCamera:m.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:m.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),G.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),o=this.getDashboardId();r.id=o,r.style.width="100%",e.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),new X().renderInto(t);var n=document.createElement("div");n.id=this.getHeaderMessageContainerId(),n.style.display="none",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="2px 10px",n.style.margin="4px",n.style.borderTop="1px solid #f6f6f6",t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.setHeaderMessage(I.cameraPermissionRequesting());var o=function(){n||r.createPermissionButton(e,t)};B.getCameras().then(function(n){r.persistedDataManager.setHasPermission(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(I.noCameraFound(),g.STATUS_WARNING),o())}).catch(function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:o(),r.setHeaderMessage(e,g.STATUS_WARNING)})},e.prototype.createPermissionButton=function(e,t){var n=this,r=J.createElement("button",this.getCameraPermissionButtonId());r.innerText=I.cameraPermissionTitle(),r.addEventListener("click",function(){r.disabled=!0,n.createCameraListUi(e,t,r)}),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;if(G.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Z.hasCameraPermissions().then(function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))}).catch(function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=G.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var r=document.createElement("div");r.style.textAlign="center",n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=G.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=eo.create(e,t,function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";G.isFileScanType(n.currentScanType)&&n.html5Qrcode.scanFileV2(e,!0).then(function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)}).catch(function(e){n.setHeaderMessage(e,g.STATUS_WARNING),n.qrCodeErrorCallback(e,M.createFrom(e))})})},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var o=document.createElement("span");o.style.marginRight="10px";var i=e.length,a=J.createElement("select",this.getCameraSelectionId());if(1===i)a.style.display="none";else{var s=I.selectCamera();o.innerText=s+" ("+e.length+")  "}for(var c=[],l=0;l<e.length;l++){var u=e[l],d=u.id,h=null==u.label?d:u.label,p=document.createElement("option");p.value=d,p.innerText=h,c.push(p),a.appendChild(p)}o.appendChild(a),r.appendChild(o);var f=document.createElement("span"),S=J.createElement("button",K.CAMERA_START_BUTTON_ID);S.innerText=I.scanButtonStartScanningText(),f.appendChild(S);var m=J.createElement("button",K.CAMERA_STOP_BUTTON_ID);m.innerText=I.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,f.appendChild(m);var y=en.create(n.html5Qrcode,{display:"none",marginLeft:"5px"},function(e){n.setHeaderMessage(e,g.STATUS_WARNING)}),T=y.getTorchButton();f.appendChild(T);var M=function(e){if(!er.isTorchSupported(e)){T.style.display="none";return}T.style.display="inline-block"};r.appendChild(f);var E=function(e){e||(S.style.display="none"),S.innerText=I.scanButtonStartScanningText(),S.style.opacity="1",S.disabled=!1,e&&(S.style.display="inline-block")};if(S.addEventListener("click",function(e){S.innerText=I.scanButtonScanningStarting(),a.disabled=!0,S.disabled=!0,S.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r,o=a.value;n.persistedDataManager.setLastUsedCameraId(o),n.html5Qrcode.start(o,{fps:(r=n.config).fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints},n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(e){m.disabled=!1,m.style.display="inline-block",E(!1),!0===t.config.showTorchButtonIfSupported&&M(n.html5Qrcode.getRunningTrackSettings())}).catch(function(e){n.showHideScanTypeSwapLink(!0),a.disabled=!1,E(!0),n.setHeaderMessage(e,g.STATUS_WARNING)})}),1===i&&S.click(),m.addEventListener("click",function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,n.html5Qrcode.stop().then(function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),a.disabled=!1,S.disabled=!1,m.style.display="none",S.style.display="inline-block",y.reset(),T.style.display="none",n.insertCameraScanImageToScanRegion()}).catch(function(e){m.disabled=!1,n.setHeaderMessage(e,g.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){for(var C=n.persistedDataManager.getLastUsedCameraId(),A=!1,v=0;v<c.length;v++){var p=c[v];if(p.value===C){A=!0;break}}A?(a.value=C,S.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=I.textIfCameraScanSelected(),n=I.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var i=J.createElement("a",this.getDashboardSectionSwapLinkId());i.style.textDecoration="underline",i.innerText=G.isCameraScanType(this.currentScanType)?t:n,i.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,G.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),i.innerText=n,e.currentScanType=h.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),i.innerText=t,e.currentScanType=h.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(i),r.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){Z.hasCameraPermissions().then(function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(e){t.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=g.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case g.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case g.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case g.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none"},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=k},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Y},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},e.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},e.prototype.getDashboardSectionSwapLinkId=function(){return K.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},e.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},e.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},e.prototype.getCameraSelectionId=function(){return K.CAMERA_SELECTION_SELECT_ID},e.prototype.getCameraPermissionButtonId=function(){return K.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}()},9131:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]])},4035:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},4530:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9806:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6142:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5432:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},6020:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},3589:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2549:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5400:function(e,t,n){n.d(t,{gm:function(){return i}});var r=n(2265);n(7437);var o=r.createContext(void 0);function i(e){let t=r.useContext(o);return e||t||"ltr"}},6743:function(e,t,n){n.d(t,{f:function(){return s}});var r=n(2265),o=n(9381),i=n(7437),a=r.forwardRef((e,t)=>(0,i.jsx)(o.WV.label,{...e,ref:t,onMouseDown:t=>{let n=t.target;n.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var s=a},7283:function(e,t,n){n.d(t,{Ns:function(){return X},fC:function(){return q},gb:function(){return C},q4:function(){return O},l_:function(){return V}});var r=n(2265),o=n(9381),i=n(5606),a=n(6989),s=n(2210),c=n(6459),l=n(5400),u=n(1030),d=n(5744),h=n(7437),p="ScrollArea",[f,g]=(0,a.b)(p),[S,m]=f(p),y=r.forwardRef((e,t)=>{let{__scopeScrollArea:n,type:i="hover",dir:a,scrollHideDelay:c=600,...u}=e,[d,p]=r.useState(null),[f,g]=r.useState(null),[m,y]=r.useState(null),[T,M]=r.useState(null),[E,C]=r.useState(null),[A,I]=r.useState(0),[v,D]=r.useState(0),[N,w]=r.useState(!1),[L,b]=r.useState(!1),_=(0,s.e)(t,e=>p(e)),x=(0,l.gm)(a);return(0,h.jsx)(S,{scope:n,type:i,dir:x,scrollHideDelay:c,scrollArea:d,viewport:f,onViewportChange:g,content:m,onContentChange:y,scrollbarX:T,onScrollbarXChange:M,scrollbarXEnabled:N,onScrollbarXEnabledChange:w,scrollbarY:E,onScrollbarYChange:C,scrollbarYEnabled:L,onScrollbarYEnabledChange:b,onCornerWidthChange:I,onCornerHeightChange:D,children:(0,h.jsx)(o.WV.div,{dir:x,...u,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});y.displayName=p;var T="ScrollAreaViewport",M=r.forwardRef((e,t)=>{let{__scopeScrollArea:n,children:i,asChild:a,nonce:c,...l}=e,u=m(T,n),d=r.useRef(null),p=(0,s.e)(t,d,u.onViewportChange);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:c}),(0,h.jsx)(o.WV.div,{"data-radix-scroll-area-viewport":"",...l,asChild:a,ref:p,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:function(e,t){let{asChild:n,children:o}=e;if(!n)return"function"==typeof t?t(o):t;let i=r.Children.only(o);return r.cloneElement(i,{children:"function"==typeof t?t(i.props.children):t})}({asChild:a,children:i},e=>(0,h.jsx)("div",{"data-radix-scroll-area-content":"",ref:u.onContentChange,style:{minWidth:u.scrollbarXEnabled?"fit-content":void 0},children:e}))})]})});M.displayName=T;var E="ScrollAreaScrollbar",C=r.forwardRef((e,t)=>{let{forceMount:n,...o}=e,i=m(E,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,c="horizontal"===e.orientation;return r.useEffect(()=>(c?a(!0):s(!0),()=>{c?a(!1):s(!1)}),[c,a,s]),"hover"===i.type?(0,h.jsx)(A,{...o,ref:t,forceMount:n}):"scroll"===i.type?(0,h.jsx)(I,{...o,ref:t,forceMount:n}):"auto"===i.type?(0,h.jsx)(v,{...o,ref:t,forceMount:n}):"always"===i.type?(0,h.jsx)(D,{...o,ref:t}):null});C.displayName=E;var A=r.forwardRef((e,t)=>{let{forceMount:n,...o}=e,a=m(E,e.__scopeScrollArea),[s,c]=r.useState(!1);return r.useEffect(()=>{let e=a.scrollArea,t=0;if(e){let n=()=>{window.clearTimeout(t),c(!0)},r=()=>{t=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[a.scrollArea,a.scrollHideDelay]),(0,h.jsx)(i.z,{present:n||s,children:(0,h.jsx)(v,{"data-state":s?"visible":"hidden",...o,ref:t})})}),I=r.forwardRef((e,t)=>{var n;let{forceMount:o,...a}=e,s=m(E,e.__scopeScrollArea),c="horizontal"===e.orientation,l=H(()=>p("SCROLL_END"),100),[u,p]=(n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>{let r=n[e][t];return r??e},"hidden"));return r.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,s.scrollHideDelay,p]),r.useEffect(()=>{let e=s.viewport,t=c?"scrollLeft":"scrollTop";if(e){let n=e[t],r=()=>{let r=e[t],o=n!==r;o&&(p("SCROLL"),l()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[s.viewport,c,p,l]),(0,h.jsx)(i.z,{present:o||"hidden"!==u,children:(0,h.jsx)(D,{"data-state":"hidden"===u?"hidden":"visible",...a,ref:t,onPointerEnter:(0,d.M)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,d.M)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),v=r.forwardRef((e,t)=>{let n=m(E,e.__scopeScrollArea),{forceMount:o,...a}=e,[s,c]=r.useState(!1),l="horizontal"===e.orientation,u=H(()=>{if(n.viewport){let e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;c(l?e:t)}},10);return W(n.viewport,u),W(n.content,u),(0,h.jsx)(i.z,{present:o||s,children:(0,h.jsx)(D,{"data-state":s?"visible":"hidden",...a,ref:t})})}),D=r.forwardRef((e,t)=>{let{orientation:n="vertical",...o}=e,i=m(E,e.__scopeScrollArea),a=r.useRef(null),s=r.useRef(0),[c,l]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=B(c.viewport,c.content),d={...o,sizes:c,onSizesChange:l,hasThumb:!!(u>0&&u<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function p(e,t){return function(e,t,n,r="ltr"){let o=F(n),i=t||o/2,a=n.scrollbar.paddingStart+i,s=n.scrollbar.size-n.scrollbar.paddingEnd-(o-i),c=n.content-n.viewport,l=Y([a,s],"ltr"===r?[0,c]:[-1*c,0]);return l(e)}(e,s.current,c,t)}return"horizontal"===n?(0,h.jsx)(N,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){let e=i.viewport.scrollLeft,t=k(e,c,i.dir);a.current.style.transform=`translate3d(${t}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=p(e,i.dir))}}):"vertical"===n?(0,h.jsx)(w,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){let e=i.viewport.scrollTop,t=k(e,c);a.current.style.transform=`translate3d(0, ${t}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=p(e))}}):null}),N=r.forwardRef((e,t)=>{let{sizes:n,onSizesChange:o,...i}=e,a=m(E,e.__scopeScrollArea),[c,l]=r.useState(),u=r.useRef(null),d=(0,s.e)(t,u,a.onScrollbarXChange);return r.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),(0,h.jsx)(_,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(a.viewport){let r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),r>0&&r<n&&t.preventDefault()}},onResize:()=>{u.current&&a.viewport&&c&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:P(c.paddingLeft),paddingEnd:P(c.paddingRight)}})}})}),w=r.forwardRef((e,t)=>{let{sizes:n,onSizesChange:o,...i}=e,a=m(E,e.__scopeScrollArea),[c,l]=r.useState(),u=r.useRef(null),d=(0,s.e)(t,u,a.onScrollbarYChange);return r.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),(0,h.jsx)(_,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(a.viewport){let r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),r>0&&r<n&&t.preventDefault()}},onResize:()=>{u.current&&a.viewport&&c&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:P(c.paddingTop),paddingEnd:P(c.paddingBottom)}})}})}),[L,b]=f(E),_=r.forwardRef((e,t)=>{let{__scopeScrollArea:n,sizes:i,hasThumb:a,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:p,onThumbPositionChange:f,onDragScroll:g,onWheelScroll:S,onResize:y,...T}=e,M=m(E,n),[C,A]=r.useState(null),I=(0,s.e)(t,e=>A(e)),v=r.useRef(null),D=r.useRef(""),N=M.viewport,w=i.content-i.viewport,b=(0,c.W)(S),_=(0,c.W)(f),x=H(y,10);function O(e){if(v.current){let t=e.clientX-v.current.left,n=e.clientY-v.current.top;g({x:t,y:n})}}return r.useEffect(()=>{let e=e=>{let t=e.target,n=C?.contains(t);n&&b(e,w)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[N,C,w,b]),r.useEffect(_,[i,_]),W(C,x),W(M.content,x),(0,h.jsx)(L,{scope:n,scrollbar:C,hasThumb:a,onThumbChange:(0,c.W)(l),onThumbPointerUp:(0,c.W)(u),onThumbPositionChange:_,onThumbPointerDown:(0,c.W)(p),children:(0,h.jsx)(o.WV.div,{...T,ref:I,style:{position:"absolute",...T.style},onPointerDown:(0,d.M)(e.onPointerDown,e=>{if(0===e.button){let t=e.target;t.setPointerCapture(e.pointerId),v.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",M.viewport&&(M.viewport.style.scrollBehavior="auto"),O(e)}}),onPointerMove:(0,d.M)(e.onPointerMove,O),onPointerUp:(0,d.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=D.current,M.viewport&&(M.viewport.style.scrollBehavior=""),v.current=null})})})}),x="ScrollAreaThumb",O=r.forwardRef((e,t)=>{let{forceMount:n,...r}=e,o=b(x,e.__scopeScrollArea);return(0,h.jsx)(i.z,{present:n||o.hasThumb,children:(0,h.jsx)(R,{ref:t,...r})})}),R=r.forwardRef((e,t)=>{let{__scopeScrollArea:n,style:i,...a}=e,c=m(x,n),l=b(x,n),{onThumbPositionChange:u}=l,p=(0,s.e)(t,e=>l.onThumbChange(e)),f=r.useRef(),g=H(()=>{f.current&&(f.current(),f.current=void 0)},100);return r.useEffect(()=>{let e=c.viewport;if(e){let t=()=>{if(g(),!f.current){let t=Q(e,u);f.current=t,u()}};return u(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,g,u]),(0,h.jsx)(o.WV.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:(0,d.M)(e.onPointerDownCapture,e=>{let t=e.target,n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;l.onThumbPointerDown({x:r,y:o})}),onPointerUp:(0,d.M)(e.onPointerUp,l.onThumbPointerUp)})});O.displayName=x;var j="ScrollAreaCorner",U=r.forwardRef((e,t)=>{let n=m(j,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY),o="scroll"!==n.type&&r;return o?(0,h.jsx)(z,{...e,ref:t}):null});U.displayName=j;var z=r.forwardRef((e,t)=>{let{__scopeScrollArea:n,...i}=e,a=m(j,n),[s,c]=r.useState(0),[l,u]=r.useState(0);return W(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),u(e)}),W(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),c(e)}),s&&l?(0,h.jsx)(o.WV.div,{...i,ref:t,style:{width:s,height:l,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function P(e){return e?parseInt(e,10):0}function B(e,t){let n=e/t;return isNaN(n)?0:n}function F(e){let t=B(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function k(e,t,n="ltr"){let r=F(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s="ltr"===n?[0,a]:[-1*a,0],c=function(e,[t,n]){return Math.min(n,Math.max(t,e))}(e,s),l=Y([0,a],[0,i-r]);return l(c)}function Y(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}var Q=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return!function o(){let i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,s=n.top!==i.top;(a||s)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function H(e,t){let n=(0,c.W)(e),o=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),r.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function W(e,t){let n=(0,c.W)(t);(0,u.b)(()=>{let t=0;if(e){let r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var q=y,V=M,X=U}}]);