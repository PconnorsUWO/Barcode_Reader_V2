(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{6020:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},1783:function(e,r,t){Promise.resolve().then(t.bind(t,6530))},6530:function(e,r,t){"use strict";t.r(r),t.d(r,{ManualScanEntry:function(){return d}});var n=t(7437),a=t(2265),s=t(3023),o=t(1908),c=t(6672),i=t(6110),u=t(164),l=t(6020);function d(){let[e,r]=(0,a.useState)(""),[t,d]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),b=async n=>{if(n.preventDefault(),h(!0),y(null),!e.trim()||!t.trim()){y({message:"Part Number and Location are required.",type:"error"}),h(!1);return}try{let n={partNumber:e.trim(),location:t.trim(),vin:f.trim()||void 0};console.log("[ManualScanEntry] Submitting payload:",n);let s=await (0,u.xF)(n);if(s.success){var a;y({message:"Scan submitted successfully! ID: ".concat((null===(a=s.data)||void 0===a?void 0:a.scan_id)||"N/A"),type:"success"}),console.log("Manual scan submitted successfully:",s.data),r(""),d(""),m("")}else y({message:"Error: ".concat(s.error||"Failed to submit scan."),type:"error"}),console.error("Failed to submit manual scan:",s.error)}catch(e){y({message:"An unexpected error occurred.",type:"error"}),console.error("Error during manual submission process:",e)}finally{h(!1)}};return(0,n.jsxs)(i.Zb,{className:"w-full max-w-md mx-auto",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Manual Scan Entry"}),(0,n.jsx)(i.SZ,{children:"Enter scan details manually and send to the server."})]}),(0,n.jsxs)("form",{onSubmit:b,children:[(0,n.jsxs)(i.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"partNumber",children:"Part Number"}),(0,n.jsx)(o.I,{id:"partNumber",value:e,onChange:e=>r(e.target.value.toUpperCase()),placeholder:"Enter part number",required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"location",children:"Location"}),(0,n.jsx)(o.I,{id:"location",value:t,onChange:e=>d(e.target.value.toUpperCase()),placeholder:"Enter location",required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"vin",children:"VIN (Optional)"}),(0,n.jsx)(o.I,{id:"vin",value:f,onChange:e=>m(e.target.value.toUpperCase()),placeholder:"17-character alphanumeric",maxLength:17})]}),g&&(0,n.jsx)("p",{className:"text-sm ".concat("success"===g.type?"text-green-600":"text-red-600"),children:g.message})]}),(0,n.jsx)(i.eW,{children:(0,n.jsxs)(s.z,{type:"submit",disabled:p,className:"w-full",children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),p?"Sending...":"Send Scan"]})})]})]})}},3023:function(e,r,t){"use strict";t.d(r,{d:function(){return i},z:function(){return u}});var n=t(7437),a=t(2265),s=t(7256),o=t(9213),c=t(9311);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:u=!1,...l}=e,d=u?s.g7:"button";return(0,n.jsx)(d,{className:(0,c.cn)(i({variant:a,size:o,className:t})),ref:r,...l})});u.displayName="Button"},6110:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},SZ:function(){return u},Zb:function(){return o},aY:function(){return l},eW:function(){return d},ll:function(){return i}});var n=t(7437),a=t(2265),s=t(9311);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});u.displayName="CardDescription";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...a})});l.displayName="CardContent";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});d.displayName="CardFooter"},1908:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var n=t(7437),a=t(2265),s=t(9311);let o=a.forwardRef((e,r)=>{let{className:t,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},6672:function(e,r,t){"use strict";t.d(r,{_:function(){return u}});var n=t(7437),a=t(2265),s=t(6743),o=t(9213),c=t(9311);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.f,{ref:r,className:(0,c.cn)(i(),t),...a})});u.displayName=s.f.displayName},164:function(e,r,t){"use strict";t.d(r,{FP:function(){return f},Xr:function(){return c},Y8:function(){return l},cn:function(){return a},ei:function(){return u},jJ:function(){return d},li:function(){return o},t$:function(){return i},xF:function(){return s}});let n="https://www.rfscans.ca/api";async function a(e){try{let r="".concat(n,"/scans");void 0!==e&&e>0&&(r+="?limit=".concat(e));let t=await fetch(r,{headers:{"ngrok-skip-browser-warning":"true"}});if(!t.ok)throw Error("HTTP error ".concat(t.status));let a=await t.json();return a.map(e=>({id:String(e.id),partNumber:e.part_number,location:e.location,timestamp:e.date_added,status:"IN"===e.scan_type?"In Stock":e.scan_type,vin:e.vin||void 0,scannedBy:e.scanned_by||"N/A",scanMethod:e.scan_method||"Barcode"}))}catch(r){return console.error("Error fetching scans:",r),m.slice(0,e||m.length)}}async function s(e){try{let r={part_number:e.partNumber,location:e.location,vin:e.vin||null};console.log("[API] Attempting to submit scan. URL:","".concat(n,"/send_scan"),"Payload:",r);let t=await fetch("".concat(n,"/send_scan"),{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify(r)});if(!t.ok){let e="HTTP error ".concat(t.status);try{let r=await t.json();e=r.message||e}catch(e){}return console.error("Error submitting scan:",e),{success:!1,error:e}}let a=await t.json();return console.log("Scan submitted successfully:",a),{success:!0,data:a}}catch(e){return console.error("[API] Fetch error in submitScan:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function o(e){try{let r=await fetch("".concat(n,"/scan/").concat(e),{method:"DELETE",headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}if(204===r.status)return{success:!0};return console.error("Error deleting scan:",e),{success:!1,error:e}}return r.status,{success:!0}}catch(e){return console.error("[API] Fetch error in deleteScanById:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function c(e){try{let r=await fetch("".concat(n,"/part/number/").concat(e),{method:"DELETE",headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}if(204===r.status)return{success:!0};return console.error("Error deleting part:",e),{success:!1,error:e}}return r.status,{success:!0}}catch(e){return console.error("[API] Fetch error in deletePartByPartNumber:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function i(e){try{let r=await fetch("".concat(n,"/vehicle/").concat(e.toUpperCase()),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.vehicle}}catch(e){return console.error("[API] Fetch error in fetchVehicleByVin:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function u(e){try{let r=await fetch("".concat(n,"/vehicle/").concat(e.toUpperCase(),"/parts"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.parts}}catch(e){return console.error("[API] Fetch error in fetchPartsByVin:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function l(e){try{let r=await fetch("".concat(n,"/part/").concat(e,"/vehicles"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.vehicles}}catch(e){return console.error("[API] Fetch error in fetchVehiclesByPartNumber:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function d(){try{let e=await fetch("".concat(n,"/admin/reports/generate_inventory_excel"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!e.ok){let r="HTTP error ".concat(e.status);try{let t=await e.json();r=t.message||r}catch(e){}return{success:!1,error:r}}let r=await e.blob(),t=window.URL.createObjectURL(r),a=document.createElement("a");return a.style.display="none",a.href=t,a.download="inventory_report_".concat(new Date().toISOString().split("T")[0],".xlsx"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a),{success:!0}}catch(e){return console.error("[API] Fetch error in downloadInventoryReport:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function f(e){try{let r=new FormData;r.append("image",e),console.log("[API] Attempting to process image via OCR. URL:","".concat(n,"/ocr/process_image"));let t=await fetch("".concat(n,"/ocr/process_image"),{method:"POST",headers:{"ngrok-skip-browser-warning":"true"},body:r});if(!t.ok){let e="HTTP error ".concat(t.status);try{let r=await t.json();e=r.message||e}catch(e){}return console.error("Error processing image:",e),{success:!1,error:e}}let a=await t.json();return console.log("Image processed successfully:",a),{success:!0,vin:a.vin,partNumber:a.part_number}}catch(e){return console.error("[API] Fetch error in processImageOCR:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}let m=[{id:"abc123",partNumber:"LP-2456",location:"WH-A123",timestamp:new Date(Date.now()-18e5).toISOString(),scanMethod:"Barcode"},{id:"def456",partNumber:"LP-7890",location:"WH-B456",timestamp:new Date(Date.now()-72e5).toISOString(),scanMethod:"OCR",vin:"1HGCM82633A123456"},{id:"ghi789",partNumber:"LP-1234",location:"WH-C789",timestamp:new Date(Date.now()-18e6).toISOString(),scanMethod:"Barcode"},{id:"jkl012",partNumber:"LP-5678",location:"WH-A123",timestamp:new Date(Date.now()-864e5).toISOString(),scanMethod:"OCR",vin:"5XYZU3LB5DG123456"}]},9311:function(e,r,t){"use strict";t.d(r,{cn:function(){return o},p:function(){return c}});var n=t(7042),a=t(4769),s=t(7918);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}function c(e){let r=new Date(e);return(0,s.ZP)(r,"MMM d, yyyy h:mm a")}},6743:function(e,r,t){"use strict";t.d(r,{f:function(){return c}});var n=t(2265),a=t(9381),s=t(7437),o=n.forwardRef((e,r)=>(0,s.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{let t=r.target;t.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var c=o}},function(e){e.O(0,[650,971,864,744],function(){return e(e.s=1783)}),_N_E=e.O()}]);