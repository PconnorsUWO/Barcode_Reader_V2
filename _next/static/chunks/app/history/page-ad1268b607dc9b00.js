(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{6141:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8431:function(e,s,a){Promise.resolve().then(a.bind(a,7370))},7370:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return U}});var t=a(7437),r=a(2265),l=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),i=(0,l.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),d=(0,l.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var c=a(6141),o=a(6110),x=a(9155),m=a(9311);function u(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,m.cn)("animate-pulse rounded-md bg-muted",s),...a})}var f=a(3023),h=a(164),p=a(6989),j=a(2210),y=a(8712),N=a(5744),g=a(7256),v="AlertDialog",[b,w]=(0,p.b)(v,[y.p8]),k=(0,y.p8)(),D=e=>{let{__scopeAlertDialog:s,...a}=e,r=k(s);return(0,t.jsx)(y.fC,{...r,...a,modal:!0})};D.displayName=v;var A=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,l=k(a);return(0,t.jsx)(y.xz,{...l,...r,ref:s})});A.displayName="AlertDialogTrigger";var C=e=>{let{__scopeAlertDialog:s,...a}=e,r=k(s);return(0,t.jsx)(y.h_,{...r,...a})};C.displayName="AlertDialogPortal";var R=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,l=k(a);return(0,t.jsx)(y.aV,{...l,...r,ref:s})});R.displayName="AlertDialogOverlay";var z="AlertDialogContent",[S,Z]=b(z),E=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:l,...n}=e,i=k(a),d=r.useRef(null),c=(0,j.e)(s,d),o=r.useRef(null);return(0,t.jsx)(y.jm,{contentName:z,titleName:O,docsSlug:"alert-dialog",children:(0,t.jsx)(S,{scope:a,cancelRef:o,children:(0,t.jsxs)(y.VY,{role:"alertdialog",...i,...n,ref:c,onOpenAutoFocus:(0,N.M)(n.onOpenAutoFocus,e=>{e.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(g.A4,{children:l}),(0,t.jsx)(Y,{contentRef:d})]})})})});E.displayName=z;var O="AlertDialogTitle",F=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,l=k(a);return(0,t.jsx)(y.Dx,{...l,...r,ref:s})});F.displayName=O;var I="AlertDialogDescription",M=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,l=k(a);return(0,t.jsx)(y.dk,{...l,...r,ref:s})});M.displayName=I;var T=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,l=k(a);return(0,t.jsx)(y.x8,{...l,...r,ref:s})});T.displayName="AlertDialogAction";var _="AlertDialogCancel",V=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:l}=Z(_,a),n=k(a),i=(0,j.e)(s,l);return(0,t.jsx)(y.x8,{...n,...r,ref:i})});V.displayName=_;var Y=({contentRef:e})=>{let s=`\`${z}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${z}\` by passing a \`${I}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${z}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{let a=document.getElementById(e.current?.getAttribute("aria-describedby"));a||console.warn(s)},[s,e]),null};let H=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(R,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:s})});H.displayName=R.displayName;let P=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsxs)(C,{children:[(0,t.jsx)(H,{}),(0,t.jsx)(E,{ref:s,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});P.displayName=E.displayName;let $=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};$.displayName="AlertDialogHeader";let q=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,m.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};q.displayName="AlertDialogFooter";let L=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(F,{ref:s,className:(0,m.cn)("text-lg font-semibold",a),...r})});L.displayName=F.displayName;let W=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(M,{ref:s,className:(0,m.cn)("text-sm text-muted-foreground",a),...r})});W.displayName=M.displayName;let B=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(T,{ref:s,className:(0,m.cn)((0,f.d)(),a),...r})});B.displayName=T.displayName;let G=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(V,{ref:s,className:(0,m.cn)((0,f.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});function U(){let[e,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[p,j]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=async()=>{l(!0);try{let e=await (0,h.cn)();s(e)}catch(e){console.error("Error loading scans:",e)}finally{l(!1)}};e()},[]);let g=async(e,a)=>{j(e);try{let t=await (0,h.li)(e);if(!t.success){console.error("Failed to delete scan:",t.error),alert("Failed to delete scan: ".concat(t.error)),j(null);return}let r=await (0,h.Xr)(a);r.success||(console.error("Failed to delete part (scan was deleted):",r.error),alert("Scan deleted, but failed to delete part: ".concat(r.error))),s(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Error during delete operation:",e),alert("An error occurred: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{j(null)}};return(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Scan History"}),e.length>0&&!a&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(f.z,{variant:y?"outline":"default",size:"sm",onClick:()=>N(!1),className:"gap-2",children:[(0,t.jsx)(i,{className:"h-4 w-4"}),"Cards"]}),(0,t.jsxs)(f.z,{variant:y?"default":"outline",size:"sm",onClick:()=>N(!0),className:"gap-2",children:[(0,t.jsx)(d,{className:"h-4 w-4"}),"Compact"]})]})]}),a?y?(0,t.jsx)("div",{className:"space-y-2",children:[...Array(8)].map((e,s)=>(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 flex-1",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{className:"h-4 w-24"}),(0,t.jsx)(u,{className:"h-3 w-48"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u,{className:"h-3 w-16"}),(0,t.jsx)(u,{className:"h-6 w-6"})]})]})})},s))}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-2",children:(0,t.jsx)(u,{className:"h-4 w-32"})}),(0,t.jsxs)(o.aY,{className:"space-y-2",children:[(0,t.jsx)(u,{className:"h-4 w-full"}),(0,t.jsx)(u,{className:"h-4 w-3/4"}),(0,t.jsxs)("div",{className:"pt-2 flex justify-between",children:[(0,t.jsx)(u,{className:"h-4 w-20"}),(0,t.jsx)(u,{className:"h-4 w-24"})]})]}),(0,t.jsx)(o.eW,{children:(0,t.jsx)(u,{className:"h-8 w-20"})})]},s))}):e.length>0?y?(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsx)(o.Zb,{className:"overflow-hidden transition-all hover:shadow-sm",children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-semibold text-sm",children:["#",e.partNumber]}),(0,t.jsx)(x.C,{variant:"In Stock"===e.status?"success":"default",className:"text-xs",children:e.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[(0,t.jsxs)("span",{children:["\uD83D\uDCCD ",e.location]}),e.vin&&(0,t.jsxs)("span",{className:"font-mono",children:["\uD83D\uDE97 ",e.vin]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,m.p)(e.timestamp)}),(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{asChild:!0,children:(0,t.jsx)(f.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",disabled:p===e.id,children:p===e.id?(0,t.jsx)("span",{className:"text-xs",children:"..."}):(0,t.jsx)(n,{className:"h-4 w-4"})})}),(0,t.jsxs)(P,{children:[(0,t.jsxs)($,{children:[(0,t.jsx)(L,{children:"Are you sure?"}),(0,t.jsxs)(W,{children:["This action will permanently delete scan ID ",e.id," and part number ",e.partNumber,". This cannot be undone."]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(G,{disabled:p===e.id,children:"Cancel"}),(0,t.jsx)(B,{onClick:()=>g(e.id,e.partNumber),disabled:p===e.id,className:"bg-destructive hover:bg-destructive/90",children:p===e.id?"Deleting...":"Delete"})]})]})]})]})]})})},e.id))}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,t.jsxs)(o.Zb,{className:"overflow-hidden transition-all hover:shadow-md flex flex-col",children:[(0,t.jsx)(o.Ol,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(o.ll,{className:"text-lg",children:["Part #",e.partNumber]}),(0,t.jsx)(x.C,{variant:"In Stock"===e.status?"success":"default",children:e.status})]})}),(0,t.jsxs)(o.aY,{className:"space-y-2 flex-grow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,t.jsx)("span",{children:e.location})]}),e.vin&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"VIN:"}),(0,t.jsx)("span",{className:"font-mono",children:e.vin})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm pt-2 border-t mt-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,t.jsx)("span",{children:(0,m.p)(e.timestamp)})]})]}),(0,t.jsx)(o.eW,{className:"pt-4 border-t",children:(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{asChild:!0,children:(0,t.jsx)(f.z,{variant:"destructive",size:"sm",className:"w-full",disabled:p===e.id,children:p===e.id?"Deleting...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{className:"mr-2 h-4 w-4"})," Delete"]})})}),(0,t.jsxs)(P,{children:[(0,t.jsxs)($,{children:[(0,t.jsx)(L,{children:"Are you sure?"}),(0,t.jsxs)(W,{children:["This action will permanently delete scan ID ",e.id," and part number ",e.partNumber,". This cannot be undone."]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(G,{disabled:p===e.id,children:"Cancel"}),(0,t.jsx)(B,{onClick:()=>g(e.id,e.partNumber),disabled:p===e.id,className:"bg-destructive hover:bg-destructive/90",children:p===e.id?"Deleting...":"Delete"})]})]})]})})]},e.id))}):(0,t.jsxs)(o.Zb,{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:(0,t.jsx)(c.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,t.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"No Scan History"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Once you start scanning parts, they will appear here."})]})]})}G.displayName=V.displayName},9155:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(7437);a(2265);var r=a(9213),l=a(9311);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}}},function(e){e.O(0,[650,712,818,971,864,744],function(){return e(e.s=8431)}),_N_E=e.O()}]);