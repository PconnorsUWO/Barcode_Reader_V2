(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{8431:function(e,t,s){Promise.resolve().then(s.bind(s,8730))},8730:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var a=s(7437),r=s(2265),l=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var i=s(6141),d=s(6110),o=s(9155),c=s(9311);function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",t),...s})}var m=s(3023),f=s(164),x=s(6989),p=s(2210),h=s(8712),j=s(5744),g=s(7256),y="AlertDialog",[N,v]=(0,x.b)(y,[h.p8]),b=(0,h.p8)(),w=e=>{let{__scopeAlertDialog:t,...s}=e,r=b(t);return(0,a.jsx)(h.fC,{...r,...s,modal:!0})};w.displayName=y;var D=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=b(s);return(0,a.jsx)(h.xz,{...l,...r,ref:t})});D.displayName="AlertDialogTrigger";var A=e=>{let{__scopeAlertDialog:t,...s}=e,r=b(t);return(0,a.jsx)(h.h_,{...r,...s})};A.displayName="AlertDialogPortal";var k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=b(s);return(0,a.jsx)(h.aV,{...l,...r,ref:t})});k.displayName="AlertDialogOverlay";var R="AlertDialogContent",[C,O]=N(R),S=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,children:l,...n}=e,i=b(s),d=r.useRef(null),o=(0,p.e)(t,d),c=r.useRef(null);return(0,a.jsx)(h.jm,{contentName:R,titleName:F,docsSlug:"alert-dialog",children:(0,a.jsx)(C,{scope:s,cancelRef:c,children:(0,a.jsxs)(h.VY,{role:"alertdialog",...i,...n,ref:o,onOpenAutoFocus:(0,j.M)(n.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(g.A4,{children:l}),(0,a.jsx)(Z,{contentRef:d})]})})})});S.displayName=R;var F="AlertDialogTitle",E=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=b(s);return(0,a.jsx)(h.Dx,{...l,...r,ref:t})});E.displayName=F;var z="AlertDialogDescription",_=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=b(s);return(0,a.jsx)(h.dk,{...l,...r,ref:t})});_.displayName=z;var I=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=b(s);return(0,a.jsx)(h.x8,{...l,...r,ref:t})});I.displayName="AlertDialogAction";var V="AlertDialogCancel",T=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,{cancelRef:l}=O(V,s),n=b(s),i=(0,p.e)(t,l);return(0,a.jsx)(h.x8,{...n,...r,ref:i})});T.displayName=V;var Z=({contentRef:e})=>{let t=`\`${R}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${R}\` by passing a \`${z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${R}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{let s=document.getElementById(e.current?.getAttribute("aria-describedby"));s||console.warn(t)},[t,e]),null};let H=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});H.displayName=k.displayName;let M=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(A,{children:[(0,a.jsx)(H,{}),(0,a.jsx)(S,{ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});M.displayName=S.displayName;let P=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};P.displayName="AlertDialogHeader";let Y=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};Y.displayName="AlertDialogFooter";let $=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E,{ref:t,className:(0,c.cn)("text-lg font-semibold",s),...r})});$.displayName=E.displayName;let B=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(_,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})});B.displayName=_.displayName;let W=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(I,{ref:t,className:(0,c.cn)((0,m.d)(),s),...r})});W.displayName=I.displayName;let q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(T,{ref:t,className:(0,c.cn)((0,m.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});function L(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=async()=>{l(!0);try{let e=await (0,f.cn)(5);t(e)}catch(e){console.error("Failed to fetch scan history:",e)}finally{l(!1)}};e()},[]);let h=async(e,s)=>{p(e);try{let a=await (0,f.li)(e);if(!a.success){console.error("Failed to delete scan:",a.error),alert("Failed to delete scan: ".concat(a.error)),p(null);return}let r=await (0,f.Xr)(s);r.success||(console.error("Failed to delete part (scan was deleted):",r.error),alert("Scan deleted, but failed to delete part: ".concat(r.error))),t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error during delete operation:",e),alert("An error occurred: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(null)}};return(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Scan History"})}),s?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{className:"pb-2",children:(0,a.jsx)(u,{className:"h-4 w-32"})}),(0,a.jsxs)(d.aY,{className:"space-y-2",children:[(0,a.jsx)(u,{className:"h-4 w-full"}),(0,a.jsx)(u,{className:"h-4 w-3/4"}),(0,a.jsxs)("div",{className:"pt-2 flex justify-between",children:[(0,a.jsx)(u,{className:"h-4 w-20"}),(0,a.jsx)(u,{className:"h-4 w-24"})]})]}),(0,a.jsx)(d.eW,{children:(0,a.jsx)(u,{className:"h-8 w-20"})})]},t))}):e.length>0?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,a.jsxs)(d.Zb,{className:"overflow-hidden transition-all hover:shadow-md flex flex-col",children:[(0,a.jsx)(d.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"text-lg",children:["Part #",e.partNumber]}),(0,a.jsx)(o.C,{variant:"In Stock"===e.status?"success":"default",children:e.status})]})}),(0,a.jsxs)(d.aY,{className:"space-y-2 flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,a.jsx)("span",{children:e.location})]}),e.vin&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"VIN:"}),(0,a.jsx)("span",{className:"font-mono",children:e.vin})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm pt-2 border-t mt-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Scanned by:"}),(0,a.jsx)("span",{children:e.scannedBy||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,a.jsx)("span",{children:(0,c.p)(e.timestamp)})]})]}),(0,a.jsx)(d.eW,{className:"pt-4 border-t",children:(0,a.jsxs)(w,{children:[(0,a.jsx)(D,{asChild:!0,children:(0,a.jsx)(m.z,{variant:"destructive",size:"sm",className:"w-full",disabled:x===e.id,children:x===e.id?"Deleting...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{className:"mr-2 h-4 w-4"})," Delete"]})})}),(0,a.jsxs)(M,{children:[(0,a.jsxs)(P,{children:[(0,a.jsx)($,{children:"Are you sure?"}),(0,a.jsxs)(B,{children:["This action will permanently delete scan ID ",e.id," and part number ",e.partNumber,". This cannot be undone."]})]}),(0,a.jsxs)(Y,{children:[(0,a.jsx)(q,{disabled:x===e.id,children:"Cancel"}),(0,a.jsx)(W,{onClick:()=>h(e.id,e.partNumber),disabled:x===e.id,className:"bg-destructive hover:bg-destructive/90",children:x===e.id?"Deleting...":"Delete"})]})]})]})})]},e.id))}):(0,a.jsxs)(d.Zb,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:(0,a.jsx)(i.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"No Scan History"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Once you start scanning parts, they will appear here."})]})]})}q.displayName=T.displayName},9155:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var a=s(7437);s(2265);var r=s(9213),l=s(9311);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...r})}}},function(e){e.O(0,[650,485,818,971,864,744],function(){return e(e.s=8431)}),_N_E=e.O()}]);