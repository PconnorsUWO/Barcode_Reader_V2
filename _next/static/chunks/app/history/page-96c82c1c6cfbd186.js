(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{6141:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8431:function(e,t,r){Promise.resolve().then(r.bind(r,1210))},1210:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),s=r(2265),a=r(6141),c=r(6110),i=r(9213),o=r(9311);let l=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,o.cn)(l({variant:r}),t),...s})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...r})}var m=r(164);function f(){let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=async()=>{try{let e=await (0,m.c)();t(e)}catch(e){console.error("Failed to fetch scan history:",e)}finally{i(!1)}};e()},[]),(0,n.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Scan History"})}),r?(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,t)=>(0,n.jsxs)(c.Zb,{children:[(0,n.jsx)(c.Ol,{className:"pb-2",children:(0,n.jsx)(u,{className:"h-4 w-32"})}),(0,n.jsxs)(c.aY,{className:"space-y-2",children:[(0,n.jsx)(u,{className:"h-4 w-full"}),(0,n.jsx)(u,{className:"h-4 w-3/4"}),(0,n.jsxs)("div",{className:"pt-2 flex justify-between",children:[(0,n.jsx)(u,{className:"h-4 w-20"}),(0,n.jsx)(u,{className:"h-4 w-24"})]})]})]},t))}):e.length>0?(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,n.jsxs)(c.Zb,{className:"overflow-hidden transition-all hover:shadow-md",children:[(0,n.jsx)(c.Ol,{className:"pb-2",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(c.ll,{className:"text-lg",children:["Part #",e.partNumber]}),(0,n.jsx)(d,{variant:"Completed"===e.status?"success":"default",children:e.status})]})}),(0,n.jsxs)(c.aY,{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Location:"}),(0,n.jsx)("span",{children:e.location})]}),e.vin&&(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"VIN:"}),(0,n.jsx)("span",{className:"font-mono",children:e.vin})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Scanned by:"}),(0,n.jsx)("span",{children:e.scannedBy})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,n.jsx)("span",{children:(0,o.p)(e.timestamp)})]})]})]},e.id))}):(0,n.jsxs)(c.Zb,{className:"p-8 text-center",children:[(0,n.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:(0,n.jsx)(a.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,n.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"No Scan History"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6",children:"Once you start scanning parts, they will appear here."})]})]})}},6110:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return c},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var n=r(7437),s=r(2265),a=r(9311);let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});c.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},164:function(e,t,r){"use strict";r.d(t,{c:function(){return s},x:function(){return a}});let n="https://3513-2607-fea8-439d-ba00-7515-3f54-933f-4cf8.ngrok-free.app/api";async function s(){try{let e=await fetch("".concat(n,"/scans"));if(!e.ok)throw Error("HTTP error ".concat(e.status));let t=await e.json();return t.map(e=>({id:e.id||e._id||String(Math.random()).slice(2),partNumber:e.barcode||e.part_number,location:e.location||"Unknown",timestamp:e.timestamp||e.created_at||new Date().toISOString(),scanMethod:e.scanMethod||e.scan_method||"Barcode",status:e.status||"Completed",scannedBy:e.scannedBy||e.scanned_by||"System",vin:e.vin||void 0,imageUrl:e.imageUrl||e.image_url}))}catch(e){return console.error("Error fetching scans:",e),c}}async function a(e){try{let t={part_number:e.partNumber,location:e.location,vin:e.vin||null};console.log("[API] Attempting to submit scan. URL:","".concat(n,"/send_scan"),"Payload:",t);let r=await fetch("".concat(n,"/send_scan"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return console.error("Error submitting scan:",e),{success:!1,error:e}}let s=await r.json();return console.log("Scan submitted successfully:",s),{success:!0,data:s}}catch(e){return console.error("[API] Fetch error in submitScan:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}let c=[{id:"abc123",partNumber:"LP-2456",location:"WH-A123",timestamp:new Date(Date.now()-18e5).toISOString(),scanMethod:"Barcode"},{id:"def456",partNumber:"LP-7890",location:"WH-B456",timestamp:new Date(Date.now()-72e5).toISOString(),scanMethod:"OCR",vin:"1HGCM82633A123456"},{id:"ghi789",partNumber:"LP-1234",location:"WH-C789",timestamp:new Date(Date.now()-18e6).toISOString(),scanMethod:"Barcode"},{id:"jkl012",partNumber:"LP-5678",location:"WH-A123",timestamp:new Date(Date.now()-864e5).toISOString(),scanMethod:"OCR",vin:"5XYZU3LB5DG123456"}]},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return c},p:function(){return i}});var n=r(7042),s=r(4769),a=r(7918);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function i(e){let t=new Date(e);return(0,a.ZP)(t,"MMM d, yyyy h:mm a")}}},function(e){e.O(0,[147,971,864,744],function(){return e(e.s=8431)}),_N_E=e.O()}]);