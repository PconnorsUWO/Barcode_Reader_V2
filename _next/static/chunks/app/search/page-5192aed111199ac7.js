(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{5610:function(e,s,a){Promise.resolve().then(a.bind(a,7826))},7826:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return C}});var t=a(7437),r=a(2265),l=a(9251),n=a(4322),i=a(6142),c=a(3715),d=a(3523),o=a(1827),m=a(3857),u=a(6110),x=a(1908),h=a(3023),f=a(6672),p=a(4522),v=a(9311);let g=p.fC,j=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(p.aV,{ref:s,className:(0,v.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});j.displayName=p.aV.displayName;let N=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(p.xz,{ref:s,className:(0,v.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});N.displayName=p.xz.displayName;let b=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(p.VY,{ref:s,className:(0,v.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});b.displayName=p.VY.displayName;var y=a(9155),w=a(9213);let k=(0,w.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Z=r.forwardRef((e,s)=>{let{className:a,variant:r,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,v.cn)(k({variant:r}),a),...l})});Z.displayName="Alert";let S=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,v.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});S.displayName="AlertTitle";let V=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,v.cn)("text-sm [&_p]:leading-relaxed",a),...r})});V.displayName="AlertDescription";var I=a(164);function C(){var e,s;let[a,p]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[C,_]=(0,r.useState)(!1),[Y,R]=(0,r.useState)(!1),[F,O]=(0,r.useState)(null),[z,A]=(0,r.useState)([]),[E,P]=(0,r.useState)(!1),[M,D]=(0,r.useState)(!1),L=async()=>{if(a.trim()){_(!0),O(null),S(null);try{let e=await (0,I.t$)(a);e.success?S({type:"vehicle",data:e.data}):O(e.error||"Vehicle not found")}catch(e){O("An error occurred while searching for the vehicle")}finally{_(!1)}}},T=async()=>{if(a.trim()){_(!0),O(null),S(null);try{let e=await (0,I.ei)(a);e.success?S({type:"parts",data:e.data}):O(e.error||"No parts found for this VIN")}catch(e){O("An error occurred while searching for parts")}finally{_(!1)}}},U=async()=>{if(v.trim()){_(!0),O(null),S(null);try{let[e,s]=await Promise.all([(0,I.Y8)(v),(0,I.yC)(v)]),a=e.success?e.data:[],t=s.success?s.data:[];if(0===a.length&&0===t.length)O("No data found for this part number");else{let e=Array.from(new Set(t.map(e=>e.location).filter(Boolean)));S({type:"partFull",vehicles:a,parts:t,locations:e})}}catch(e){O("An error occurred while searching for vehicles and parts")}finally{_(!1)}}},B=async()=>{R(!0),O(null);try{let e=await (0,I.jJ)();e.success||O(e.error||"Failed to download report")}catch(e){O("An error occurred while downloading the report")}finally{R(!1)}},J=async e=>{if(e.length<3){A([]),P(!1);return}D(!0);try{let s=await (0,I.Mk)(e);s.success&&s.data?(A(s.data),P(s.data.length>0)):(A([]),P(!1))}catch(e){A([]),P(!1)}finally{D(!1)}},$=e=>{p(e),P(!1),A([])},q=e=>{let s=e.toUpperCase();p(s),s.length>=3&&s.length<17?J(s):(P(!1),A([]))},G=e=>(0,t.jsxs)(u.Zb,{children:[(0,t.jsx)(u.Ol,{children:(0,t.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5"}),"Parts Found (",e.length,")"]})}),(0,t.jsx)(u.aY,{className:"space-y-3 overflow-x-auto",children:e.map((e,s)=>(0,t.jsx)("div",{className:"p-3 border rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-mono break-all text-xs sm:text-sm",children:e.part_number}),e.part_description&&(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 break-words",children:e.part_description}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 break-all",children:["Location: ",e.location]})]}),(0,t.jsx)(y.C,{variant:"outline",className:"shrink-0 text-xs",children:e.status||"In Stock"})]})},s))})]}),H=e=>(0,t.jsxs)(u.Zb,{children:[(0,t.jsx)(u.Ol,{children:(0,t.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Z,{className:"h-5 w-5"}),"Vehicles Found (",e.length,")"]})}),(0,t.jsx)(u.aY,{className:"space-y-3 overflow-x-auto",children:e.map((e,s)=>(0,t.jsx)("div",{className:"p-3 border rounded-lg",children:(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs sm:text-sm",children:[{label:"VIN",value:e.vin,mono:!0},{label:"Make",value:e.make,mono:!1},{label:"Model",value:e.model,mono:!1},{label:"Year",value:e.year,mono:!1}].map(e=>{let{label:s,value:a,mono:r}=e;return(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)(f._,{className:"text-[11px] text-muted-foreground",children:s}),(0,t.jsx)("p",{className:"".concat(r?"font-mono break-all":""," truncate"),children:a})]},s)})})},s))})]});return(0,t.jsx)("div",{className:"container mx-auto py-8 px-4 md:px-6 max-w-4xl",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Inventory Search"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"Search by VIN or part number to find vehicles and parts in your inventory"})]}),(0,t.jsxs)(g,{defaultValue:"vin",className:"w-full",children:[(0,t.jsxs)(j,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(N,{value:"vin",children:"VIN Search"}),(0,t.jsx)(N,{value:"part",children:"Part Search"}),(0,t.jsx)(N,{value:"reports",children:"Reports"})]}),(0,t.jsx)(b,{value:"vin",className:"space-y-4",children:(0,t.jsxs)(u.Zb,{children:[(0,t.jsxs)(u.Ol,{children:[(0,t.jsx)(u.ll,{children:"Search by VIN"}),(0,t.jsx)(u.SZ,{children:"Enter a VIN to find vehicle details or associated parts. Start typing to see matching VINs."})]}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(f._,{htmlFor:"vin",children:"Vehicle Identification Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.I,{id:"vin",placeholder:"Enter VIN or last few digits",value:a,onChange:e=>q(e.target.value),maxLength:17,className:"font-mono pr-10"}),(M||E)&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:M?(0,t.jsx)(c.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"}):(0,t.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"})})]}),E&&z.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-background border rounded-md shadow-lg max-h-60 overflow-y-auto",children:z.map((e,s)=>(0,t.jsx)("button",{className:"w-full px-3 py-2 text-left hover:bg-muted/50 border-b last:border-b-0 focus:bg-muted/50 focus:outline-none",onClick:()=>$(e.vin),children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-mono text-sm font-medium",children:e.vin}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.year," ",e.make," ",e.model,e.trim&&" ".concat(e.trim)]})]})},s))})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(h.z,{onClick:L,disabled:C||!a.trim(),className:"flex-1",children:[C?(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Find Vehicle"]}),(0,t.jsxs)(h.z,{onClick:T,disabled:C||!a.trim(),variant:"outline",className:"flex-1",children:[C?(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Find Parts"]})]})]})]})}),(0,t.jsx)(b,{value:"part",className:"space-y-4",children:(0,t.jsxs)(u.Zb,{children:[(0,t.jsxs)(u.Ol,{children:[(0,t.jsx)(u.ll,{children:"Search by Part Number"}),(0,t.jsx)(u.SZ,{children:"Enter a part number to find all vehicles and part entries for it"})]}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f._,{htmlFor:"part",children:"Part Number"}),(0,t.jsx)(x.I,{id:"part",placeholder:"Enter part number",value:v,onChange:e=>w(e.target.value.toUpperCase()),className:"font-mono"})]}),(0,t.jsxs)(h.z,{onClick:U,disabled:C||!v.trim(),className:"w-full",children:[C?(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})}),(0,t.jsx)(b,{value:"reports",className:"space-y-4",children:(0,t.jsxs)(u.Zb,{children:[(0,t.jsxs)(u.Ol,{children:[(0,t.jsx)(u.ll,{children:"Inventory Reports"}),(0,t.jsx)(u.SZ,{children:"Download comprehensive inventory reports"})]}),(0,t.jsx)(u.aY,{children:(0,t.jsxs)(h.z,{onClick:B,disabled:Y,className:"w-full",size:"lg",children:[Y?(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Download Inventory Excel Report"]})})]})})]}),F&&(0,t.jsx)(Z,{variant:"destructive",children:(0,t.jsx)(V,{children:F})}),k&&(0,t.jsxs)("div",{className:"space-y-4",children:["vehicle"===k.type&&(e=k.data,(0,t.jsxs)(u.Zb,{children:[(0,t.jsx)(u.Ol,{children:(0,t.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Z,{className:"h-5 w-5"}),"Vehicle Details"]})}),(0,t.jsxs)(u.aY,{className:"space-y-3 overflow-x-auto",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"VIN",value:e.vin},{label:"Make",value:e.make},{label:"Model",value:e.model},{label:"Year",value:e.year}].map(e=>{let{label:s,value:a}=e;return(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)(f._,{className:"text-xs text-muted-foreground",children:s}),(0,t.jsx)("p",{className:"text-xs sm:text-sm ".concat("VIN"===s?"font-mono break-all":""),children:a})]},s)})}),e.trim&&(0,t.jsxs)("div",{children:[(0,t.jsx)(f._,{className:"text-xs text-muted-foreground",children:"Trim"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm",children:e.trim})]})]})]})),"parts"===k.type&&G(k.data),"vehicles"===k.type&&H(k.data),"partFull"===k.type&&(0,t.jsxs)(t.Fragment,{children:[k.parts.length>0&&G(k.parts),k.locations.length>0&&(s=k.locations,(0,t.jsxs)(u.Zb,{children:[(0,t.jsx)(u.Ol,{children:(0,t.jsxs)(u.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Z,{className:"h-5 w-5"}),"Locations (",s.length,")"]})}),(0,t.jsx)(u.aY,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,t.jsx)(y.C,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1 break-all",children:e},e))})})]})),k.vehicles.length>0&&H(k.vehicles)]})]})]})})}},9155:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(7437);a(2265);var r=a(9213),l=a(9311);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}},1908:function(e,s,a){"use strict";a.d(s,{I:function(){return n}});var t=a(7437),r=a(2265),l=a(9311);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},6672:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var t=a(7437),r=a(2265),l=a(6743),n=a(9213),i=a(9311);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.f,{ref:s,className:(0,i.cn)(c(),a),...r})});d.displayName=l.f.displayName}},function(e){e.O(0,[650,362,818,971,864,744],function(){return e(e.s=5610)}),_N_E=e.O()}]);