(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{5610:function(e,s,a){Promise.resolve().then(a.bind(a,7826))},7826:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return S}});var r=a(7437),t=a(2265),l=a(9251),n=a(4322),i=a(6142),c=a(3715),d=a(1827),o=a(3857),m=a(6110),u=a(1908),x=a(3023),f=a(6672),h=a(4522),p=a(9311);let v=h.fC,g=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(h.aV,{ref:s,className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});g.displayName=h.aV.displayName;let j=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(h.xz,{ref:s,className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});j.displayName=h.xz.displayName;let N=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(h.VY,{ref:s,className:(0,p.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});N.displayName=h.VY.displayName;var b=a(9155),y=a(9213);let w=(0,y.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),k=t.forwardRef((e,s)=>{let{className:a,variant:t,...l}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,p.cn)(w({variant:t}),a),...l})});k.displayName="Alert";let Z=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h5",{ref:s,className:(0,p.cn)("mb-1 font-medium leading-none tracking-tight",a),...t})});Z.displayName="AlertTitle";let V=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,p.cn)("text-sm [&_p]:leading-relaxed",a),...t})});V.displayName="AlertDescription";var I=a(164);function S(){var e,s;let[a,h]=(0,t.useState)(""),[p,y]=(0,t.useState)(""),[w,Z]=(0,t.useState)(null),[S,_]=(0,t.useState)(!1),[C,Y]=(0,t.useState)(!1),[R,F]=(0,t.useState)(null),O=async()=>{if(a.trim()){_(!0),F(null),Z(null);try{let e=await (0,I.t$)(a);e.success?Z({type:"vehicle",data:e.data}):F(e.error||"Vehicle not found")}catch(e){F("An error occurred while searching for the vehicle")}finally{_(!1)}}},A=async()=>{if(a.trim()){_(!0),F(null),Z(null);try{let e=await (0,I.ei)(a);e.success?Z({type:"parts",data:e.data}):F(e.error||"No parts found for this VIN")}catch(e){F("An error occurred while searching for parts")}finally{_(!1)}}},E=async()=>{if(p.trim()){_(!0),F(null),Z(null);try{let[e,s]=await Promise.all([(0,I.Y8)(p),(0,I.yC)(p)]),a=e.success?e.data:[],r=s.success?s.data:[];if(0===a.length&&0===r.length)F("No data found for this part number");else{let e=Array.from(new Set(r.map(e=>e.location).filter(Boolean)));Z({type:"partFull",vehicles:a,parts:r,locations:e})}}catch(e){F("An error occurred while searching for vehicles and parts")}finally{_(!1)}}},z=async()=>{Y(!0),F(null);try{let e=await (0,I.jJ)();e.success||F(e.error||"Failed to download report")}catch(e){F("An error occurred while downloading the report")}finally{Y(!1)}},P=e=>(0,r.jsxs)(m.Zb,{children:[(0,r.jsx)(m.Ol,{children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"h-5 w-5"}),"Parts Found (",e.length,")"]})}),(0,r.jsx)(m.aY,{className:"space-y-3 overflow-x-auto",children:e.map((e,s)=>(0,r.jsx)("div",{className:"p-3 border rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-mono break-all text-xs sm:text-sm",children:e.part_number}),e.part_description&&(0,r.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 break-words",children:e.part_description}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 break-all",children:["Location: ",e.location]})]}),(0,r.jsx)(b.C,{variant:"outline",className:"shrink-0 text-xs",children:e.status||"In Stock"})]})},s))})]}),D=e=>(0,r.jsxs)(m.Zb,{children:[(0,r.jsx)(m.Ol,{children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5"}),"Vehicles Found (",e.length,")"]})}),(0,r.jsx)(m.aY,{className:"space-y-3 overflow-x-auto",children:e.map((e,s)=>(0,r.jsx)("div",{className:"p-3 border rounded-lg",children:(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs sm:text-sm",children:[{label:"VIN",value:e.vin,mono:!0},{label:"Make",value:e.make,mono:!1},{label:"Model",value:e.model,mono:!1},{label:"Year",value:e.year,mono:!1}].map(e=>{let{label:s,value:a,mono:t}=e;return(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)(f._,{className:"text-[11px] text-muted-foreground",children:s}),(0,r.jsx)("p",{className:"".concat(t?"font-mono break-all":""," truncate"),children:a})]},s)})})},s))})]});return(0,r.jsx)("div",{className:"container mx-auto py-8 px-4 md:px-6 max-w-4xl",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Inventory Search"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"Search by VIN or part number to find vehicles and parts in your inventory"})]}),(0,r.jsxs)(v,{defaultValue:"vin",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)(j,{value:"vin",children:"VIN Search"}),(0,r.jsx)(j,{value:"part",children:"Part Search"}),(0,r.jsx)(j,{value:"reports",children:"Reports"})]}),(0,r.jsx)(N,{value:"vin",className:"space-y-4",children:(0,r.jsxs)(m.Zb,{children:[(0,r.jsxs)(m.Ol,{children:[(0,r.jsx)(m.ll,{children:"Search by VIN"}),(0,r.jsx)(m.SZ,{children:"Enter a VIN to find vehicle details or associated parts"})]}),(0,r.jsxs)(m.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f._,{htmlFor:"vin",children:"Vehicle Identification Number"}),(0,r.jsx)(u.I,{id:"vin",placeholder:"Enter 17-character VIN",value:a,onChange:e=>h(e.target.value.toUpperCase()),maxLength:17,className:"font-mono"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsxs)(x.z,{onClick:O,disabled:S||!a.trim(),className:"flex-1",children:[S?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Find Vehicle"]}),(0,r.jsxs)(x.z,{onClick:A,disabled:S||!a.trim(),variant:"outline",className:"flex-1",children:[S?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Find Parts"]})]})]})]})}),(0,r.jsx)(N,{value:"part",className:"space-y-4",children:(0,r.jsxs)(m.Zb,{children:[(0,r.jsxs)(m.Ol,{children:[(0,r.jsx)(m.ll,{children:"Search by Part Number"}),(0,r.jsx)(m.SZ,{children:"Enter a part number to find all vehicles and part entries for it"})]}),(0,r.jsxs)(m.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f._,{htmlFor:"part",children:"Part Number"}),(0,r.jsx)(u.I,{id:"part",placeholder:"Enter part number",value:p,onChange:e=>y(e.target.value.toUpperCase()),className:"font-mono"})]}),(0,r.jsxs)(x.z,{onClick:E,disabled:S||!p.trim(),className:"w-full",children:[S?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})}),(0,r.jsx)(N,{value:"reports",className:"space-y-4",children:(0,r.jsxs)(m.Zb,{children:[(0,r.jsxs)(m.Ol,{children:[(0,r.jsx)(m.ll,{children:"Inventory Reports"}),(0,r.jsx)(m.SZ,{children:"Download comprehensive inventory reports"})]}),(0,r.jsx)(m.aY,{children:(0,r.jsxs)(x.z,{onClick:z,disabled:C,className:"w-full",size:"lg",children:[C?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Download Inventory Excel Report"]})})]})})]}),R&&(0,r.jsx)(k,{variant:"destructive",children:(0,r.jsx)(V,{children:R})}),w&&(0,r.jsxs)("div",{className:"space-y-4",children:["vehicle"===w.type&&(e=w.data,(0,r.jsxs)(m.Zb,{children:[(0,r.jsx)(m.Ol,{children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5"}),"Vehicle Details"]})}),(0,r.jsxs)(m.aY,{className:"space-y-3 overflow-x-auto",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"VIN",value:e.vin},{label:"Make",value:e.make},{label:"Model",value:e.model},{label:"Year",value:e.year}].map(e=>{let{label:s,value:a}=e;return(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)(f._,{className:"text-xs text-muted-foreground",children:s}),(0,r.jsx)("p",{className:"text-xs sm:text-sm ".concat("VIN"===s?"font-mono break-all":""),children:a})]},s)})}),e.trim&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{className:"text-xs text-muted-foreground",children:"Trim"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm",children:e.trim})]})]})]})),"parts"===w.type&&P(w.data),"vehicles"===w.type&&D(w.data),"partFull"===w.type&&(0,r.jsxs)(r.Fragment,{children:[w.parts.length>0&&P(w.parts),w.locations.length>0&&(s=w.locations,(0,r.jsxs)(m.Zb,{children:[(0,r.jsx)(m.Ol,{children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5"}),"Locations (",s.length,")"]})}),(0,r.jsx)(m.aY,{children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,r.jsx)(b.C,{variant:"secondary",className:"text-xs sm:text-sm px-3 py-1 break-all",children:e},e))})})]})),w.vehicles.length>0&&D(w.vehicles)]})]})]})})}},9155:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var r=a(7437);a(2265);var t=a(9213),l=a(9311);let n=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...t}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...t})}},1908:function(e,s,a){"use strict";a.d(s,{I:function(){return n}});var r=a(7437),t=a(2265),l=a(9311);let n=t.forwardRef((e,s)=>{let{className:a,type:t,...n}=e;return(0,r.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},6672:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var r=a(7437),t=a(2265),l=a(6743),n=a(9213),i=a(9311);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.f,{ref:s,className:(0,i.cn)(c(),a),...t})});d.displayName=l.f.displayName}},function(e){e.O(0,[650,748,818,971,864,744],function(){return e(e.s=5610)}),_N_E=e.O()}]);