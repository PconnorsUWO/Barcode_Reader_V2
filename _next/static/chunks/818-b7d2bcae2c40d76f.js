"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{3023:function(e,r,t){t.d(r,{d:function(){return i},z:function(){return u}});var n=t(7437),o=t(2265),c=t(7256),s=t(9213),a=t(9311);let i=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,r)=>{let{className:t,variant:o,size:s,asChild:u=!1,...l}=e,d=u?c.g7:"button";return(0,n.jsx)(d,{className:(0,a.cn)(i({variant:o,size:s,className:t})),ref:r,...l})});u.displayName="Button"},6110:function(e,r,t){t.d(r,{Ol:function(){return a},SZ:function(){return u},Zb:function(){return s},aY:function(){return l},eW:function(){return d},ll:function(){return i}});var n=t(7437),o=t(2265),c=t(9311);let s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...o})});s.displayName="Card";let a=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t),...o})});a.displayName="CardHeader";let i=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("h3",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",t),...o})});i.displayName="CardTitle";let u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("p",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",t),...o})});u.displayName="CardDescription";let l=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",t),...o})});l.displayName="CardContent";let d=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",t),...o})});d.displayName="CardFooter"},164:function(e,r,t){t.d(r,{Db:function(){return i},FP:function(){return b},RK:function(){return u},Xr:function(){return g},Y8:function(){return w},cn:function(){return o},dL:function(){return a},ei:function(){return p},jJ:function(){return y},li:function(){return m},t$:function(){return h},xF:function(){return d}});let n="https://www.rfscans.ca/api";async function o(e){try{let r="".concat(n,"/scans");void 0!==e&&e>0&&(r+="?limit=".concat(e));let t=await fetch(r,{headers:{"ngrok-skip-browser-warning":"true"}});if(!t.ok)throw Error("HTTP error ".concat(t.status));let o=await t.json();return o.map(e=>({id:String(e.id),partNumber:e.part_number,location:e.location,timestamp:e.date_added,status:"IN"===e.scan_type?"In Stock":e.scan_type,vin:e.vin||void 0,scannedBy:e.scanned_by||"N/A",scanMethod:e.scan_method||"Barcode"}))}catch(r){return console.error("Error fetching scans:",r),v.slice(0,e||v.length)}}let c=[],s=[];function a(e){return s.push(e),()=>{let r=s.indexOf(e);r>-1&&s.splice(r,1)}}function i(){return[...c]}function u(){for(let e=c.length-1;e>=0;e--)"pending"!==c[e].status&&c.splice(e,1);l()}function l(){s.forEach(e=>e([...c]))}function d(e){let r="scan_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t={id:r,payload:{...e},timestamp:Date.now(),status:"pending"};c.push(t),l();let n=f(r,e);return{id:r,promise:n}}async function f(e,r){let t=c.find(r=>r.id===e);try{let o={part_number:r.partNumber,location:r.location,vin:r.vin||null};console.log("[API] Attempting to submit scan. ID:",e,"URL:","".concat(n,"/send_scan"),"Payload:",o);let c=await fetch("".concat(n,"/send_scan"),{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify(o)});if(!c.ok){let e="HTTP error ".concat(c.status);try{let r=await c.json();e=r.message||e}catch(e){}return t&&(t.status="error",t.error=e,l()),console.error("Error submitting scan:",e),{success:!1,error:e}}let s=await c.json();return t&&(t.status="success",l()),console.log("Scan submitted successfully:",s),{success:!0,data:s}}catch(r){let e=r instanceof Error?r.message:"An unknown error occurred";return t&&(t.status="error",t.error=e,l()),console.error("[API] Fetch error in submitScan:",r),{success:!1,error:e}}}async function m(e){try{let r=await fetch("".concat(n,"/scan/").concat(e),{method:"DELETE",headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}if(204===r.status)return{success:!0};return console.error("Error deleting scan:",e),{success:!1,error:e}}return r.status,{success:!0}}catch(e){return console.error("[API] Fetch error in deleteScanById:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function g(e){try{let r=await fetch("".concat(n,"/part/number/").concat(e),{method:"DELETE",headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}if(204===r.status)return{success:!0};return console.error("Error deleting part:",e),{success:!1,error:e}}return r.status,{success:!0}}catch(e){return console.error("[API] Fetch error in deletePartByPartNumber:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function h(e){try{let r=await fetch("".concat(n,"/vehicle/").concat(e.toUpperCase()),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.vehicle}}catch(e){return console.error("[API] Fetch error in fetchVehicleByVin:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function p(e){try{let r=await fetch("".concat(n,"/vehicle/").concat(e.toUpperCase(),"/parts"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.parts}}catch(e){return console.error("[API] Fetch error in fetchPartsByVin:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function w(e){try{let r=await fetch("".concat(n,"/part/").concat(e,"/vehicles"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!r.ok){let e="HTTP error ".concat(r.status);try{let t=await r.json();e=t.message||e}catch(e){}return{success:!1,error:e}}let t=await r.json();return{success:!0,data:t.vehicles}}catch(e){return console.error("[API] Fetch error in fetchVehiclesByPartNumber:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function y(){try{let e=await fetch("".concat(n,"/admin/reports/generate_inventory_excel"),{headers:{"ngrok-skip-browser-warning":"true"}});if(!e.ok){let r="HTTP error ".concat(e.status);try{let t=await e.json();r=t.message||r}catch(e){}return{success:!1,error:r}}let r=await e.blob(),t=window.URL.createObjectURL(r),o=document.createElement("a");return o.style.display="none",o.href=t,o.download="inventory_report_".concat(new Date().toISOString().split("T")[0],".xlsx"),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(t),document.body.removeChild(o),{success:!0}}catch(e){return console.error("[API] Fetch error in downloadInventoryReport:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}async function b(e){try{let r=new FormData;r.append("image",e),console.log("[API] Attempting to process image via OCR. URL:","".concat(n,"/ocr/process_image"));let t=await fetch("".concat(n,"/ocr/process_image"),{method:"POST",headers:{"ngrok-skip-browser-warning":"true"},body:r});if(!t.ok){let e="HTTP error ".concat(t.status);try{let r=await t.json();e=r.message||e}catch(e){}return console.error("Error processing image:",e),{success:!1,error:e}}let o=await t.json();return console.log("Image processed successfully:",o),{success:!0,vin:o.vin,partNumber:o.part_number}}catch(e){return console.error("[API] Fetch error in processImageOCR:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}let v=[{id:"abc123",partNumber:"LP-2456",location:"WH-A123",timestamp:new Date(Date.now()-18e5).toISOString(),scanMethod:"Barcode"},{id:"def456",partNumber:"LP-7890",location:"WH-B456",timestamp:new Date(Date.now()-72e5).toISOString(),scanMethod:"OCR",vin:"1HGCM82633A123456"},{id:"ghi789",partNumber:"LP-1234",location:"WH-C789",timestamp:new Date(Date.now()-18e6).toISOString(),scanMethod:"Barcode"},{id:"jkl012",partNumber:"LP-5678",location:"WH-A123",timestamp:new Date(Date.now()-864e5).toISOString(),scanMethod:"OCR",vin:"5XYZU3LB5DG123456"}]},9311:function(e,r,t){t.d(r,{cn:function(){return s},p:function(){return a}});var n=t(7042),o=t(4769),c=t(7918);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.m6)((0,n.W)(r))}function a(e){let r=new Date(e);return(0,c.ZP)(r,"MMM d, yyyy h:mm a")}}}]);